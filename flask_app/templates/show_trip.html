<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/static/style.css">
    <title>View Trip</title>
    <script src="/static/show_trip.js"></script>
</head>
<body>

    <nav class="navbar navbar-expand-md bg-dark navbar-dark">
        <ul class="nav nav-pills nav-fill">
            <li class="nav-item">
                <a class="nav-link" href="/dashboard">My Trips</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/new/trip">Add New Trip</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/logout">Logout</a>
            </li>
            </ul>
    </nav>

    <div class="jumbotron text-center">
        <h1 class="display-6">Here is information on your trip</h1>
        <p class="lead text-muted">
            You may edit or delete this trip if needed.
        </p>
        {% if trip.user_id == session.user_id %}
        <a class="btn btn-secondary mb-3" href="/edit/trip/{{trip.id}}">Edit</a>
        <a class="btn btn-danger mb-3" href="/destroy/trip/{{trip.id}}">Delete</a>
        {% endif %}
    </div>

    <div class="container mb-3">
        <div class="row">
            <div class="col-5">
                <div class="card" style="border-radius: 15px">

                    <div class="card-header bg-secondary text-white">
                        <h2>Trip Details</h2>
                    </div>

                    <div class="card-body p-10">
                        <table class="table">
                            <tr>
                                <th scope="col">Departure Country</th>
                                <td id="countries-departing">{{trip.departing_country}}</td>
                            </tr>
                            <tr>
                                <th scope="col">Departure Country Code</th>
                                <td id="countries-departing-code">{{trip.departing_country_code}}</td>
                            </tr>
                            <tr>
                                <th scope="col">Departure Country Flag</th>
                                <td>                                
                                    <img src="https://flagcdn.com/80x60/{{trip.departing_country_code|lower}}.png" width="60" height="40" alt="{{trip.departing_country}}">
                                </td>
                            </tr>
                            <tr>
                                <th scope="col">Arriving Country</th>
                                <td id="countries-travelling-to">{{trip.arriving_country}}</td>
                            </tr>
                            <tr>
                                <th scope="col">Arriving Country Code</th>
                                <td id="countries-travelling-to-code">{{trip.arriving_country_code}}</td>
                            </tr>
                            <tr>
                                <th scope="col">Arriving Country Flag</th>
                                <td>                                
                                    <img src="https://flagcdn.com/80x60/{{trip.arriving_country_code|lower}}.png" width="60" height="40" alt="{{trip.arriving_country}}">
                                </td>
                            </tr>
                            <tr>
                                <th scope="col">Trip Created On</th>
                                <td>{{trip.created_at}}</td>
                            </tr>
                            <tr>
                                <th scope="col">Trip Updated On</th>
                                <td>{{trip.updated_at}}</td>
                            </tr>
                        </table>    
                    </div>
                </div>
            </div>
            <div class="col-7">
                <div class="card" style="border-radius: 15px">

                    <div class="card-header bg-info text-white">
                        <h2>Travel Status</h2>
                    </div>

                    <div class="card-body p-10">
                        <table class="table">
                            <tr>
                                <th scope="col">Travel Ban Status</th>
                                <td id="travel-ban"></td>
                            </tr>
                            <tr>
                                <th scope="col">Travel Ban Status Last Updated</th>
                                <td id="travel-ban-update-date"></td>
                            </tr>
                            <tr>
                                <th scope="col">Entry Documentation</th>
                                <td id="documentation-required"></td>
                            </tr>
                            <tr>
                                <th scope="col">Entry Summary</th>
                                <td id="summary"></td>
                            </tr>
                            <tr>
                                <th scope="col">Entry Documentation Link</th>
                                <td id="documentation-link"></td>
                            </tr>
                            <tr>
                                <th scope="col">Entry Documentation Last Updated</th>
                                <td id="last-updated"></td>
                            </tr>
                        </table>    
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container text-muted text-center">
        <p>Country photos powered by Unsplash.com | Country flag images powered by Flagpedia.net</p>
        <p>Country data powered by Restcountries.com | Travel data powered by Amadeus.com</p>
    </div>

</body>
</html>